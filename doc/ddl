CREATE TABLE CUSTOMERS
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    CUSTOMER_NAME               VARCHAR(30) NOT NULL,
    ADDRESS                     VARCHAR(255) NOT NULL,
    TEL                         VARCHAR(11) NOT NULL,
    HASHED_PASSWORD             VARCHAR(128) NOT NULL,
    EMAIL                       VARCHAR(256) NOT NULL,
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150601102451410 PRIMARY KEY (ID),
    CONSTRAINT INDEX_CUSTOMERS_ON_EMAIL UNIQUE (EMAIL)
);

CREATE TABLE CREDITCARDS
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    CREDITNO                    VARCHAR(96) NOT NULL,
    CUSTOMER_ID                 INTEGER NOT NULL,
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150601102452120 PRIMARY KEY (ID)
);

CREATE TABLE PRODUCTS
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    PRODUCT_CODE                VARCHAR(10) NOT NULL,
    PRODUCT_NAME                VARCHAR(50),
    PRICE                       DECIMAL(6,2),
    DETAIL                      VARCHAR(200),
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150601102451930 PRIMARY KEY (ID),
    CONSTRAINT INDEX_PRODUCTS_ON_PRODUCT_CODE UNIQUE (PRODUCT_CODE)
);

CREATE TABLE PRODUCT_IMAGES
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    PRODUCT_ID                  INTEGER NOT NULL,
    PIC                         BLOB NOT NULL,
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150601102452680 PRIMARY KEY (ID)
);

CREATE TABLE STOCKS
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    STOCK                       INTEGER NOT NULL,
    PRODUCT_ID                  INTEGER NOT NULL,
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150601102452370 PRIMARY KEY (ID)
);

CREATE TABLE HISTORIES
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    CUSTOMER_ID                 INTEGER NOT NULL,
    PRODUCT_ID                  INTEGER NOT NULL,
    CREDITCARD_ID               INTEGER,
    AMOUNT                      INTEGER NOT NULL,
    ADDRESS                     VARCHAR(255),
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150706192651450 PRIMARY KEY (ID),
    CONSTRAINT SQL150706192651430 UNIQUE (ID)
);

CREATE TABLE REVIEWS
(
    ID                          INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
    EVALUATION                  INTEGER NOT NULL,
    COMMENT                     VARCHAR(255),
    PRODUCT_CODE                VARCHAR(255) NOT NULL,
    CUSTOMER_ID                 INTEGER NOT NULL,
    VERSION                     INTEGER NOT NULL,
    CREATED_AT                  TIMESTAMP,
    UPDATED_AT                  TIMESTAMP,
    CONSTRAINT SQL150711212624020 PRIMARY KEY (ID),
    CONSTRAINT SQL150711212624010 UNIQUE (ID)
);
